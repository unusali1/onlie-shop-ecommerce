{"ast":null,"code":"import _slicedToArray from\"E:/Ecommerce/ecomern-frontend-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{Table,Button}from\"react-bootstrap\";import{useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import{useDeleteProductMutation}from\"../services/appApi\";import\"./DashboardProducts.css\";import Pagination from\"./Pagination\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DashboardProducts(){var products=useSelector(function(state){return state.products;});var user=useSelector(function(state){return state.user;});var _useDeleteProductMuta=useDeleteProductMutation(),_useDeleteProductMuta2=_slicedToArray(_useDeleteProductMuta,2),deletProduct=_useDeleteProductMuta2[0],isLoading=_useDeleteProductMuta2[1].isLoading;function handleDeleteProduct(id){if(window.confirm(\"Are you sure?\"))deletProduct({product_id:id,user_id:user._id});}function TableRow(_ref){var pictures=_ref.pictures,_id=_ref._id,name=_ref.name,price=_ref.price;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:pictures[0].url,className:\"dashboard-product-preview\",alt:\"not found\"})}),/*#__PURE__*/_jsx(\"td\",{children:_id}),/*#__PURE__*/_jsx(\"td\",{children:name}),/*#__PURE__*/_jsx(\"td\",{children:price}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return handleDeleteProduct(_id,user._id);},disabled:isLoading,children:\"Delete\"}),/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(_id,\"/edit\"),className:\"btn btn-warning\",children:\"Edit\"})]})]});}return/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:\"Product ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product Price\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(Pagination,{data:products,RenderComponent:TableRow,pageLimit:1,dataLimit:5,tablePagination:true})})]});}export default DashboardProducts;","map":{"version":3,"names":["React","Table","Button","useSelector","Link","useDeleteProductMutation","Pagination","DashboardProducts","products","state","user","deletProduct","isLoading","handleDeleteProduct","id","window","confirm","product_id","user_id","_id","TableRow","pictures","name","price","url"],"sources":["E:/Ecommerce/ecomern-frontend-main/src/components/DashboardProducts.js"],"sourcesContent":["import React from \"react\";\nimport { Table, Button } from \"react-bootstrap\";\nimport { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { useDeleteProductMutation } from \"../services/appApi\";\nimport \"./DashboardProducts.css\";\nimport Pagination from \"./Pagination\";\n\nfunction DashboardProducts() {\n    const products = useSelector((state) => state.products);\n    const user = useSelector((state) => state.user);\n  \n    const [deletProduct, { isLoading }] = useDeleteProductMutation();\n    function handleDeleteProduct(id) {\n        \n        if (window.confirm(\"Are you sure?\")) deletProduct({ product_id: id, user_id: user._id });\n    }\n\n    function TableRow({ pictures, _id, name, price }) {\n        return (\n            <tr>\n                <td>\n                    <img src={pictures[0].url} className=\"dashboard-product-preview\" alt=\"not found\" />\n                </td>\n                <td>{_id}</td>\n                <td>{name}</td>\n                <td>{price}</td>\n                <td>\n                    <Button onClick={() => handleDeleteProduct(_id, user._id)} disabled={isLoading}>\n                        Delete\n                    </Button>\n                    <Link to={`/product/${_id}/edit`} className=\"btn btn-warning\">\n                        Edit\n                    </Link>\n                </td>\n            </tr>\n        );\n    }\n\n    return (\n        <Table striped bordered hover responsive>\n            <thead>\n                <tr>\n                    <th></th>\n                    <th>Product ID</th>\n                    <th>Product Name</th>\n                    <th>Product Price</th>\n                </tr>\n            </thead>\n            <tbody>\n                <Pagination data={products} RenderComponent={TableRow} pageLimit={1} dataLimit={5} tablePagination={true} />\n            </tbody>\n        </Table>\n    );\n}\n\nexport default DashboardProducts;\n"],"mappings":"wHAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,iBAA9B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,wBAAT,KAAyC,oBAAzC,CACA,MAAO,yBAAP,CACA,MAAOC,WAAP,KAAuB,cAAvB,C,wFAEA,QAASC,kBAAT,EAA6B,CACzB,GAAMC,SAAQ,CAAGL,WAAW,CAAC,SAACM,KAAD,QAAWA,MAAK,CAACD,QAAjB,EAAD,CAA5B,CACA,GAAME,KAAI,CAAGP,WAAW,CAAC,SAACM,KAAD,QAAWA,MAAK,CAACC,IAAjB,EAAD,CAAxB,CAEA,0BAAsCL,wBAAwB,EAA9D,gEAAOM,YAAP,2BAAuBC,SAAvB,2BAAuBA,SAAvB,CACA,QAASC,oBAAT,CAA6BC,EAA7B,CAAiC,CAE7B,GAAIC,MAAM,CAACC,OAAP,CAAe,eAAf,CAAJ,CAAqCL,YAAY,CAAC,CAAEM,UAAU,CAAEH,EAAd,CAAkBI,OAAO,CAAER,IAAI,CAACS,GAAhC,CAAD,CAAZ,CACxC,CAED,QAASC,SAAT,MAAkD,IAA9BC,SAA8B,MAA9BA,QAA8B,CAApBF,GAAoB,MAApBA,GAAoB,CAAfG,IAAe,MAAfA,IAAe,CAATC,KAAS,MAATA,KAAS,CAC9C,mBACI,mCACI,iCACI,YAAK,GAAG,CAAEF,QAAQ,CAAC,CAAD,CAAR,CAAYG,GAAtB,CAA2B,SAAS,CAAC,2BAArC,CAAiE,GAAG,CAAC,WAArE,EADJ,EADJ,cAII,oBAAKL,GAAL,EAJJ,cAKI,oBAAKG,IAAL,EALJ,cAMI,oBAAKC,KAAL,EANJ,cAOI,mCACI,KAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMV,oBAAmB,CAACM,GAAD,CAAMT,IAAI,CAACS,GAAX,CAAzB,EAAjB,CAA2D,QAAQ,CAAEP,SAArE,oBADJ,cAII,KAAC,IAAD,EAAM,EAAE,oBAAcO,GAAd,SAAR,CAAkC,SAAS,CAAC,iBAA5C,kBAJJ,GAPJ,GADJ,CAkBH,CAED,mBACI,MAAC,KAAD,EAAO,OAAO,KAAd,CAAe,QAAQ,KAAvB,CAAwB,KAAK,KAA7B,CAA8B,UAAU,KAAxC,wBACI,oCACI,mCACI,aADJ,cAEI,kCAFJ,cAGI,oCAHJ,cAII,qCAJJ,GADJ,EADJ,cASI,oCACI,KAAC,UAAD,EAAY,IAAI,CAAEX,QAAlB,CAA4B,eAAe,CAAEY,QAA7C,CAAuD,SAAS,CAAE,CAAlE,CAAqE,SAAS,CAAE,CAAhF,CAAmF,eAAe,CAAE,IAApG,EADJ,EATJ,GADJ,CAeH,CAED,cAAeb,kBAAf"},"metadata":{},"sourceType":"module"}