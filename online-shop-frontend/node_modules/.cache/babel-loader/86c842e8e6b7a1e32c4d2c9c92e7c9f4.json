{"ast":null,"code":"import _slicedToArray from\"E:/Ecommerce/ecomern-frontend-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"../axios\";import React,{useEffect,useState}from\"react\";import{Col,Container,Row}from\"react-bootstrap\";import{useParams}from\"react-router-dom\";import Loading from\"../components/Loading\";import ProductPreview from\"../components/ProductPreview\";import\"./CategoryPage.css\";import Pagination from\"../components/Pagination\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CategoryPage(){var _useParams=useParams(),category=_useParams.category;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),products=_useState4[0],setProducts=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),searchTerm=_useState6[0],setSearchTerm=_useState6[1];useEffect(function(){setLoading(true);axios.get(\"/products/category/\".concat(category)).then(function(_ref){var data=_ref.data;setLoading(false);setProducts(data);}).catch(function(e){setLoading(false);console.log(e.message);});},[category]);if(loading){/*#__PURE__*/_jsx(Loading,{});}var productsSearch=products.filter(function(product){return product.name.toLowerCase().includes(searchTerm.toLowerCase());});function ProductSearch(_ref2){var _id=_ref2._id,category=_ref2.category,name=_ref2.name,pictures=_ref2.pictures;return/*#__PURE__*/_jsx(ProductPreview,{_id:_id,category:category,name:name,pictures:pictures});}return/*#__PURE__*/_jsxs(\"div\",{className:\"category-page-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pt-3 \".concat(category,\"-banner-container category-banner-container\"),children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:category.charAt(0).toUpperCase()+category.slice(1)})}),/*#__PURE__*/_jsx(\"div\",{className:\"filters-container d-flex justify-content-center pt-4 pb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Search\",onChange:function onChange(e){return setSearchTerm(e.target.value);}})}),productsSearch.length===0?/*#__PURE__*/_jsx(\"h1\",{children:\"No products to show\"}):/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:{span:10,offset:1},children:/*#__PURE__*/_jsx(Pagination,{data:productsSearch,RenderComponent:ProductSearch,pageLimit:1,dataLimit:6,tablePagination:false})})})})]});}export default CategoryPage;","map":{"version":3,"names":["axios","React","useEffect","useState","Col","Container","Row","useParams","Loading","ProductPreview","Pagination","CategoryPage","category","loading","setLoading","products","setProducts","searchTerm","setSearchTerm","get","then","data","catch","e","console","log","message","productsSearch","filter","product","name","toLowerCase","includes","ProductSearch","_id","pictures","charAt","toUpperCase","slice","target","value","length","span","offset"],"sources":["E:/Ecommerce/ecomern-frontend-main/src/pages/CategoryPage.js"],"sourcesContent":["import axios from \"../axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport { useParams } from \"react-router-dom\";\nimport Loading from \"../components/Loading\";\nimport ProductPreview from \"../components/ProductPreview\";\nimport \"./CategoryPage.css\";\nimport Pagination from \"../components/Pagination\";\nfunction CategoryPage() {\n    const { category } = useParams();\n    const [loading, setLoading] = useState(false);\n    const [products, setProducts] = useState([]);\n    const [searchTerm, setSearchTerm] = useState(\"\");\n\n    useEffect(() => {\n        setLoading(true);\n        axios\n            .get(`/products/category/${category}`)\n            .then(({ data }) => {\n                setLoading(false);\n                setProducts(data);\n            })\n            .catch((e) => {\n                setLoading(false);\n                console.log(e.message);\n            });\n    }, [category]);\n\n    if (loading) {\n        <Loading />;\n    }\n\n    const productsSearch = products.filter((product) => product.name.toLowerCase().includes(searchTerm.toLowerCase()));\n\n    function ProductSearch({ _id, category, name, pictures }) {\n        return <ProductPreview _id={_id} category={category} name={name} pictures={pictures} />;\n    }\n\n    return (\n        <div className=\"category-page-container\">\n            <div className={`pt-3 ${category}-banner-container category-banner-container`}>\n                <h1 className=\"text-center\">{category.charAt(0).toUpperCase() + category.slice(1)}</h1>\n            </div>\n            <div className=\"filters-container d-flex justify-content-center pt-4 pb-4\">\n                <input type=\"search\" placeholder=\"Search\" onChange={(e) => setSearchTerm(e.target.value)} />\n            </div>\n            {productsSearch.length === 0 ? (\n                <h1>No products to show</h1>\n            ) : (\n                <Container>\n                    <Row>\n                        <Col md={{ span: 10, offset: 1 }}>\n                            <Pagination data={productsSearch} RenderComponent={ProductSearch} pageLimit={1} dataLimit={6} tablePagination={false} />\n                        </Col>\n                    </Row>\n                </Container>\n            )}\n        </div>\n    );\n}\n\nexport default CategoryPage;\n"],"mappings":"wHAAA,MAAOA,MAAP,KAAkB,UAAlB,CACA,MAAOC,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,GAAT,CAAcC,SAAd,CAAyBC,GAAzB,KAAoC,iBAApC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,QAAP,KAAoB,uBAApB,CACA,MAAOC,eAAP,KAA2B,8BAA3B,CACA,MAAO,oBAAP,CACA,MAAOC,WAAP,KAAuB,0BAAvB,C,wFACA,QAASC,aAAT,EAAwB,CACpB,eAAqBJ,SAAS,EAA9B,CAAQK,QAAR,YAAQA,QAAR,CACA,cAA8BT,QAAQ,CAAC,KAAD,CAAtC,wCAAOU,OAAP,eAAgBC,UAAhB,eACA,eAAgCX,QAAQ,CAAC,EAAD,CAAxC,yCAAOY,QAAP,eAAiBC,WAAjB,eACA,eAAoCb,QAAQ,CAAC,EAAD,CAA5C,yCAAOc,UAAP,eAAmBC,aAAnB,eAEAhB,SAAS,CAAC,UAAM,CACZY,UAAU,CAAC,IAAD,CAAV,CACAd,KAAK,CACAmB,GADL,8BAC+BP,QAD/B,GAEKQ,IAFL,CAEU,cAAc,IAAXC,KAAW,MAAXA,IAAW,CAChBP,UAAU,CAAC,KAAD,CAAV,CACAE,WAAW,CAACK,IAAD,CAAX,CACH,CALL,EAMKC,KANL,CAMW,SAACC,CAAD,CAAO,CACVT,UAAU,CAAC,KAAD,CAAV,CACAU,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,OAAd,EACH,CATL,EAUH,CAZQ,CAYN,CAACd,QAAD,CAZM,CAAT,CAcA,GAAIC,OAAJ,CAAa,CACT,kBAAC,OAAD,KACH,CAED,GAAMc,eAAc,CAAGZ,QAAQ,CAACa,MAAT,CAAgB,SAACC,OAAD,QAAaA,QAAO,CAACC,IAAR,CAAaC,WAAb,GAA2BC,QAA3B,CAAoCf,UAAU,CAACc,WAAX,EAApC,CAAb,EAAhB,CAAvB,CAEA,QAASE,cAAT,OAA0D,IAAjCC,IAAiC,OAAjCA,GAAiC,CAA5BtB,QAA4B,OAA5BA,QAA4B,CAAlBkB,IAAkB,OAAlBA,IAAkB,CAAZK,QAAY,OAAZA,QAAY,CACtD,mBAAO,KAAC,cAAD,EAAgB,GAAG,CAAED,GAArB,CAA0B,QAAQ,CAAEtB,QAApC,CAA8C,IAAI,CAAEkB,IAApD,CAA0D,QAAQ,CAAEK,QAApE,EAAP,CACH,CAED,mBACI,aAAK,SAAS,CAAC,yBAAf,wBACI,YAAK,SAAS,gBAAUvB,QAAV,+CAAd,uBACI,WAAI,SAAS,CAAC,aAAd,UAA6BA,QAAQ,CAACwB,MAAT,CAAgB,CAAhB,EAAmBC,WAAnB,GAAmCzB,QAAQ,CAAC0B,KAAT,CAAe,CAAf,CAAhE,EADJ,EADJ,cAII,YAAK,SAAS,CAAC,2DAAf,uBACI,cAAO,IAAI,CAAC,QAAZ,CAAqB,WAAW,CAAC,QAAjC,CAA0C,QAAQ,CAAE,kBAACf,CAAD,QAAOL,cAAa,CAACK,CAAC,CAACgB,MAAF,CAASC,KAAV,CAApB,EAApD,EADJ,EAJJ,CAOKb,cAAc,CAACc,MAAf,GAA0B,CAA1B,cACG,2CADH,cAGG,KAAC,SAAD,wBACI,KAAC,GAAD,wBACI,KAAC,GAAD,EAAK,EAAE,CAAE,CAAEC,IAAI,CAAE,EAAR,CAAYC,MAAM,CAAE,CAApB,CAAT,uBACI,KAAC,UAAD,EAAY,IAAI,CAAEhB,cAAlB,CAAkC,eAAe,CAAEM,aAAnD,CAAkE,SAAS,CAAE,CAA7E,CAAgF,SAAS,CAAE,CAA3F,CAA8F,eAAe,CAAE,KAA/G,EADJ,EADJ,EADJ,EAVR,GADJ,CAqBH,CAED,cAAetB,aAAf"},"metadata":{},"sourceType":"module"}